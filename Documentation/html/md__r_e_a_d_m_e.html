<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32-HAL-DATE-TIME-LCD: STM32-HAL-DATE-TIME-LCD</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32-HAL-DATE-TIME-LCD
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__r_e_a_d_m_e.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">STM32-HAL-DATE-TIME-LCD </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p>The purpose of this project is to display the date and the time on the LCD screen which was previously introduced by the user. To achieve this goal it was use a general 4x4 matrix keypad to introduce the data; the RTC DS1307 to set the date and time via the I2C bus; and to display the different parameters it was use the HD44780 controller along with the PCF8574 I2C I/O expander.</p>
<p>Before begin with this project it was necessary to develop the drivers for each component, which you can find them in my other repositories.</p>
<p>In this application every time the MCU is powered on, the program will ask for the current date and time. Once this is done it will display the data on the LCD screen updating the time every second. It is also provided an extra button if at some point the user wants to change the values again.</p>
<p>This project was tested on the <a href="https://www.st.com/en/evaluation-tools/stm32f4discovery.html">STM32DISCOVERY</a> board.</p>
<p><img src="pic123.png" alt="" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md2"></a>
Documentation</h1>
<p>A brief documentation of the functions used in the application are shown below. For detailed instructions, refer to the doxygen compliant documentation within the <code>main.c</code> file.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Functions</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Name  </th><th class="markdownTableHeadNone">Description   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>number_to_string</code>  </td><td class="markdownTableBodyNone">Convert an integer to a string, adding a 0 to integers smaller than 10   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>time_to_string</code>  </td><td class="markdownTableBodyNone">Set the time in this format <code>hh:mm:ss</code>   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>date_to_string</code>  </td><td class="markdownTableBodyNone">Set the date in this format: <code>dd/mm/yyyy</code>   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>num_returned</code>  </td><td class="markdownTableBodyNone">Return the entered number via the keypad   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>select_day</code>  </td><td class="markdownTableBodyNone">Let the user choose the day of the week   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>config_menu</code>  </td><td class="markdownTableBodyNone">Let the user choose the time and date parameters, as long as they are correct   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>HAL_TIM_PeriodElapsedCallback</code>  </td><td class="markdownTableBodyNone">Callback function triggered after the TIMER issues an interrupt every second   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>HAL_GPIO_EXTI_Callback</code>  </td><td class="markdownTableBodyNone">Callback function triggered after the user press the <em>User Button</em>   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>keypad_init</code>  </td><td class="markdownTableBodyNone">Initialization of the keypad handler   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
